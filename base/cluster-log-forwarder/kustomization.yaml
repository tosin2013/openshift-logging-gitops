apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
- logcollector-serviceaccount.yaml
- cluster-log-forwarder.yaml
# - lokistack-bearer-token-secret.yaml  # Replaced by ExternalSecret
- lokistack-rbac.yaml
# Dual TLS Implementation Options:
# Option A: Immediate resolution with TLS bypass (development/emergency)
# - option-a-tls-bypass.yaml
# Option B: Full certificate validation with Cert Manager (production)
# - option-b-cert-manager-pki.yaml
# - option-b-full-validation.yaml
#
# Choose one option based on your requirements:
# - For immediate log delivery: uncomment option-a-tls-bypass.yaml
# - For production security: uncomment option-b files and run create-clf-trust-bundle.sh

commonLabels:
  app.kubernetes.io/name: cluster-log-forwarder
  app.kubernetes.io/component: log-forwarding
  app.kubernetes.io/part-of: openshift-logging
